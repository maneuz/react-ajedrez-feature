{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Documentos\\\\UTJ\\\\6-A\\\\Estadias\\\\Ajedrez\\\\react-chess-feature-online\\\\src\\\\BoardSquare.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport Square from './Square';\nimport Piece from './Piece';\nimport { useDrop } from 'react-dnd';\nimport { handleMove } from './Game';\nimport { gameSubject } from './Game';\nimport Promote from './Promote';\nexport default function BoardSquare(_ref) {\n  let {\n    piece,\n    black,\n    position\n  } = _ref;\n  const [promotion, setPromotion] = useState(null);\n  const [, drop] = useDrop({\n    accept: 'piece',\n    drop: item => {\n      const [fromPosition] = item.id.split('_');\n      handleMove(fromPosition, position);\n    }\n  });\n  useEffect(() => {\n    const subscribe = gameSubject.subscribe(_ref2 => {\n      let {\n        pendingPromotion\n      } = _ref2;\n      return pendingPromotion && pendingPromotion.to === position ? setPromotion(pendingPromotion) : setPromotion(null);\n    });\n    return () => subscribe.unsubscribe();\n  }, [position]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"board-square\",\n    ref: drop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Square, {\n    black: black,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, promotion ? /*#__PURE__*/React.createElement(Promote, {\n    promotion: promotion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }) : piece ? /*#__PURE__*/React.createElement(Piece, {\n    piece: piece,\n    position: position,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }) : null));\n}","map":{"version":3,"names":["React","useEffect","useState","Square","Piece","useDrop","handleMove","gameSubject","Promote","BoardSquare","piece","black","position","promotion","setPromotion","drop","accept","item","fromPosition","id","split","subscribe","pendingPromotion","to","unsubscribe"],"sources":["C:/Users/ASUS/OneDrive/Documentos/UTJ/6-A/Estadias/Ajedrez/react-chess-feature-online/src/BoardSquare.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Square from './Square'\nimport Piece from './Piece'\nimport { useDrop } from 'react-dnd'\nimport { handleMove } from './Game'\nimport { gameSubject } from './Game'\nimport Promote from './Promote'\nexport default function BoardSquare({\n  piece,\n  black,\n  position,\n}) {\n  const [promotion, setPromotion] = useState(null)\n  const [, drop] = useDrop({\n    accept: 'piece',\n    drop: (item) => {\n      const [fromPosition] = item.id.split('_')\n      handleMove(fromPosition, position)\n    },\n  })\n  useEffect(() => {\n    const subscribe = gameSubject.subscribe(\n      ({ pendingPromotion }) =>\n        pendingPromotion && pendingPromotion.to === position\n          ? setPromotion(pendingPromotion)\n          : setPromotion(null)\n    )\n    return () => subscribe.unsubscribe()\n  }, [position])\n  return (\n    <div className=\"board-square\" ref={drop}>\n      <Square black={black}>\n        {promotion ? (\n          <Promote promotion={promotion} />\n        ) : piece ? (\n          <Piece piece={piece} position={position} />\n        ) : null}\n      </Square>\n    </div>\n  )\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,OAAO,QAAQ,WAAW;AACnC,SAASC,UAAU,QAAQ,QAAQ;AACnC,SAASC,WAAW,QAAQ,QAAQ;AACpC,OAAOC,OAAO,MAAM,WAAW;AAC/B,eAAe,SAASC,WAAW,OAIhC;EAAA,IAJiC;IAClCC,KAAK;IACLC,KAAK;IACLC;EACF,CAAC;EACC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,GAAGa,IAAI,CAAC,GAAGV,OAAO,CAAC;IACvBW,MAAM,EAAE,OAAO;IACfD,IAAI,EAAGE,IAAI,IAAK;MACd,MAAM,CAACC,YAAY,CAAC,GAAGD,IAAI,CAACE,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC;MACzCd,UAAU,CAACY,YAAY,EAAEN,QAAQ,CAAC;IACpC;EACF,CAAC,CAAC;EACFX,SAAS,CAAC,MAAM;IACd,MAAMoB,SAAS,GAAGd,WAAW,CAACc,SAAS,CACrC;MAAA,IAAC;QAAEC;MAAiB,CAAC;MAAA,OACnBA,gBAAgB,IAAIA,gBAAgB,CAACC,EAAE,KAAKX,QAAQ,GAChDE,YAAY,CAACQ,gBAAgB,CAAC,GAC9BR,YAAY,CAAC,IAAI,CAAC;IAAA,EACzB;IACD,OAAO,MAAMO,SAAS,CAACG,WAAW,EAAE;EACtC,CAAC,EAAE,CAACZ,QAAQ,CAAC,CAAC;EACd,oBACE;IAAK,SAAS,EAAC,cAAc;IAAC,GAAG,EAAEG,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACtC,oBAAC,MAAM;IAAC,KAAK,EAAEJ,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAClBE,SAAS,gBACR,oBAAC,OAAO;IAAC,SAAS,EAAEA,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,GAC/BH,KAAK,gBACP,oBAAC,KAAK;IAAC,KAAK,EAAEA,KAAM;IAAC,QAAQ,EAAEE,QAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,GACzC,IAAI,CACD,CACL;AAEV"},"metadata":{},"sourceType":"module"}